<!DOCTYPE html>
<html lang="en">

<head>
    <style>
        .operate a.role:hover{
            color:#3C6E31;
            background: none;
            text-decoration: none;
        }
        .operate span:hover{
            text-decoration: none;
        }
        li{
            list-style:none;
        }
        .menuContent{
            position: absolute;
            top: 34px;
            left:15px;
            background-color: #fff;
            z-index: 999;
        }
        .checking {
            width: 1200px;
            margin: 50px auto;
            text-align: center;
        }
        .checking img {
            width: 150px;
            height: 150px;
            margin-bottom: 30px;
        }
        .checking p {
            font-size: 16px;
            margin-bottom: 30px;
        }
        .checking .reason {
            font-size: 14px;
            text-align: left;
            line-height: 30px;
            word-break: break-all;
        }
        .ztree{
            display: none;
        }
    </style>
</head>
<body>
<div class="container-fluid" id="wrapper-body">
    <div class="col-md-12">
        <div class="row table-header clearfix">
            <div class="left-item">
                <p>企业员工</p>
            </div>
            <div class="right-item" id="right-item-box">
                <button type="button" onclick="onExportClick()" class="btn btn-admin" style="background-color:#DF5C3E;color: #fff">下载导入模板</button>
                <button type="button" class="btn btn-admin"><label for="endImport" style="display: block;cursor: pointer">导入</label></button>
                <input type="file" id="endImport" name="files[]" style="display: none;"/>
                <button type="button" onclick="onUserAddClick()" class="btn btn-admin">新建</button>
                <button type="button" id="searchBtn" onclick="onSearchClick()"   class="btn btn-admin">&nbsp;高级查询</button>
            </div>
        </div>
    </div>
    <div id="wrapper">
        <div class="row">
            <div class="col-lg-12">
                <div class="panel panel-default" id="page-content">
                    <!-- /.panel-heading -->
                    <!--搜索-->
                    <div class=" brandSearch" style="display: none">
                        <div class="panel">
                            <!-- /.panel-heading -->
                            <div class="panel-body">
                                <div class="dataTable_wrapper"></div>
                                <!-- /.table-responsive -->
                                <form role="form" id="GiftCardSearchForm">
                                    <div class="row">
                                        <div class="col-md-4  form-group">
                                            <label for="employeesName">员工姓名：</label>
                                            <div class="pinput">
                                                <input id="employeesName" placeholder="员工姓名" name="employeesName" class="form-control "  maxlength="20">
                                            </div>
                                        </div>
                                        <div class="col-md-4 form-group">
                                            <label for="dtBindTimeEntry">入职时间：</label>
                                            <div class="col-sm-9">
                                                <span></span><input placeholder="请选择入职时间"  value="" id="dtBindTimeEntry" name="dtBindTimeStart" readonly="readonly" onclick="WdatePicker({lang:'zh-cn',dateFmt:'yyyy-MM-dd',maxDate:'#F{$dp.$D(\'dtBindTimeEnd\')}'})" class="form-control pdate-time" style="width: 100%; float: left;">
                                                <label style="float: left; width:10%;text-align: center;display: none">—</label>
                                                <span style="display: none;"></span><input style="display: none;" placeholder="请输入结束时间" value=""  name="dtBindTimeEnd" readonly="readonly" onclick="WdatePicker({lang:'zh-cn',dateFmt:'yyyy-MM-dd',minDate:'#F{$dp.$D(\'dtBindTimeStart\')}'})" class="form-control pdate-time" style="width: 45%; float: left;">
                                            </div>
                                        </div>
                                        <div class="col-md-2 form-group">
                                            <button id="GiftCardSearchCancel" type="button" class="fa fa-reply-all btn btn-default pull-right">重置</button>
                                            <button id="GiftCardSearch" class="fa fa-search   btn btn-default pull-right" type="button">查询</button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <!-- /.panel-body -->
                        </div>
                    </div>
                    <div class="panel-body">
                        <div class="table-responsive" id="table-responsive">
                            <table class="table table-striped table-bordered table-hover">
                                <thead>
                                <tr>
                                    <th>序号</th>
                                    <th>员工姓名</th>
                                    <th>手机号</th>
                                    <th>部门</th>
                                    <th>岗位</th>
                                    <th>性别</th>
                                    <th>年龄</th>
                                    <th>证件号码</th>
                                    <th>入职时间</th>
                                    <th>操作</th>
                                </tr>
                                </thead>
                                <tbody id="user-placeholder">

                                </tbody>
                            </table>
                        </div>
                        <!-- /.table-responsive -->
                        <div class="center-block" style="float: right">
                            <ul id="paginator"></ul>
                        </div>
                    </div>
                    <!-- /.panel-body -->
                </div>
                <!-- /.panel -->
                <div class="panel panel-default" id="checking"  style="display: none;">
                    <div class="checking" >
                        <img src="img/company/checking.png" alt="">
                        <p>您的企业尚未认证，认证后才能进行员工管理</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!--新增-->
<div id="userModal" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span><span class="sr-only">关闭</span>
                </button>
                <h4 class="modal-title">新增企业员工</h4>
            </div>
            <form>
                <div class="modal-body" style="padding-top: 25px;">
                    <div class="form-horizontal" id="user_form">
                        <div class="form-group">
                            <label for="username" class="col-sm-2 control-label">姓名</label>
                            <div class="col-sm-9">
                                <input type="text" placeholder="请输入姓名" class="form-control" id="username" minlength="1" maxlength="8" >
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="ipone" class="col-sm-2 control-label">手机号</label>
                            <div class="col-sm-9">
                                <input type="tel" placeholder="请输入手机号" class="form-control" id="ipone" minlength="1" maxlength="11" >
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="age" class="col-sm-2 control-label">年龄</label>
                            <div class="col-sm-9">
                                <input type="text" placeholder="请输入年龄" class="form-control" id="age" minlength="1" maxlength="3">
                            </div>
                        </div>
                        <div class="form-group">
                            <label  class="col-sm-2 control-label">性别</label>
                            <div class="col-sm-9">
                                <select id="gender" class="form-control">
                                    <option value="-1">请选择性别</option>
                                    <option value="1">男</option>
                                    <option value="2">女</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="guanlian_add" class="col-sm-2 control-label">部门</label>
                            <div class="col-sm-9" style="position: relative">
                                <input name=""  class="form-control points " readonly="readonly" placeholder="请选择部门" id="guanlian_add" pkuid="" />
                                <div id="menuContent_add" class="menuContent " >
                                    <ul id="selectTree_add" class="ztree" >

                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label">岗位</label>
                            <div class="col-sm-9">
                                <select id="jobs" class="form-control">
                                    <option value="-1">请先选择部门</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="idNumber" class="col-sm-2 control-label">证件号码</label>
                            <div class="col-sm-9">
                                <input type="text" placeholder="请输入证件号码" class="form-control" id="idNumber" minlength="1" maxlength="18" >
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label">入职时间</label>
                            <div class="col-sm-9">
                                <span id="dtBindTimeStart_input"></span><input placeholder="请选择入职时间"  value="" id="dtBindTimeStart" name="dtBindTimeStart" readonly="readonly" onclick="WdatePicker({lang:'zh-cn',dateFmt:'yyyy-MM-dd',maxDate:'#F{$dp.$D(\'dtBindTimeEnd\')}'})" class="form-control pdate-time" style="width: 45%; float: left;">
                                <label style="float: left; width:10%;text-align: center;display: none">—</label>
                                <span id="dtBindTimeEnd_input" style="display: none;"></span><input style="display: none;" placeholder="请输入结束时间" value=""  id="dtBindTimeEnd" name="dtBindTimeEnd" readonly="readonly" onclick="WdatePicker({lang:'zh-cn',dateFmt:'yyyy-MM-dd',minDate:'#F{$dp.$D(\'dtBindTimeStart\')}'})" class="form-control pdate-time" style="width: 45%; float: left;">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="fa btn btn-default fa-times" data-dismiss="modal">关闭</button>
                    <button onclick="onUserSaveClick()" type="button" class="fa fa-save btn btn-default" id="user_buttonid">保存</button>
                </div>
            </form>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>

<script id="user-template" type="text/x-handlebars-template">
    {{#datas}}
    <tr style="text-align:center">
        <td>{{rowNum}}</td>
        <td>{{name}}</td>
        <td>{{phone}}</td>
        <td>{{dep_name}}</td>
        <td>{{post_name}}</td>
        <td>{{genderdata gender}}</td>
        <td>{{age}}</td>
        <td>{{card_num}}</td>
        <td>{{getspotDate join_time}}</td>
        <td class="operate" style="width:10%">
            <span class="  fa fa-edit" title="修改" onclick="onUpdateClick('{{id}}')"></span>
            <span class="  fa fa-trash-o" title="删除" onclick="delClick(this,'{{id}}')"></span>
        </td>
    </tr>
    {{/datas}}
</script>

<script id="jobs-template" type="text/x-handlebars-template">
    {{#datas}}
        <option jobstid="{{id}}" value="{{name}}">{{name}}</option>
    {{/datas}}
</script>
<script type="text/javascript" src="js/common/jquery.ztree.all-3.5.min.js"></script>
<script type="text/javascript" src="js/enterprise_employees.js"></script>
</body>
</html>
