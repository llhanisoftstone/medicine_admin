<!DOCTYPE html>
<html lang="en">

<head>

</head>
<link rel="stylesheet" href="js/common/formValidator/css/index_1.0.5.css">

<script type="text/javascript"  src="js/common/formValidator/webluker_1.0.8.js"></script>
<script type="text/javascript"  src="js/common/formValidator/validator.js"></script>
<body>
<div id="wrapper">
    <!-- <div class="form-inline">
         <div class="form-group">
             <label for="tisname">图片标题</label>
             <input type="text" class="form-control" id="tisname">
         </div>
         <button id="btnUserQuery" type="button" class="btn ">查询</button>
     </div>-->

    <div class="row">
        <div class="col-lg-12">

            <div class="panel panel-default">
                <div class="panel-heading">
                    <ul class="breadcrumb fa fa-home" style="width: 50%;display: inline;">
                        <li><a href="javascript:onMenuClick('pages/menu.html')">系统配置</a>
                        <li>菜单管理
                        </li>
                    </ul>
                    <div style="float: right;margin-top: -7px">
                        <button type="button" onclick="onAddClick()" class="fa fa-plus-circle   btn addBtn"> 新建</button>
                        <button type="button" onclick="javascript:onMenu_ManageClick(0,0)" class="fa fa-share-square btn backBtn">回根目录</button>
                        <button type="button" onclick="returnUpDeep()" class="fa fa-share-square btn lastBtn">返回上层</button>
                    </div>
                </div>
                <!-- /.panel-heading -->
                <div class="panel-body">
                    <label id="MenuCurLocation"></label>
                    <div class="table-responsive" id="table-menu">
                        <table class="table table-striped table-bordered table-hover">
                            <thead>
                            <tr>
                                <th>序号</th>
                                <th>ID</th>
                                <th>菜单名称</th>
                                <th>菜单路径</th>
                                <th>Icon图</th>
                                <th>深度</th>
                                <th>显示顺序</th>
                                <th>操作</th>
                            </tr>
                            </thead>
                            <tbody id="menu-placeholder">

                            </tbody>
                        </table>
                    </div>
                    <!-- /.table-responsive -->
                      <div style="float: right;margin-right: 50px;">
                          <ul id="paginator"></ul>
                      </div>
                </div>
                <!-- /.panel-body -->
            </div>
            <!-- /.panel -->
        </div>
    </div>
</div>

<div id="userModal" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span><span class="sr-only ">关闭</span>
                </button>
                <h4 class="modal-title">菜单新建/编辑</h4>
            </div>
            <form role="form" id="form_modal">
                <div class="modal-body">
                    <div class="form-horizontal" id="user_form">
                        <div class="form-group">
                            <label for="name" class="col-sm-2 control-label">菜单名称：</label>
                            <div class="col-sm-9">
                                <input type="text" class="form-control" id="name" maxlength="10" datatype="require">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="name" class="col-sm-2 control-label">菜单路径：</label>
                            <div class="col-sm-9">
                                <input type="text" class="form-control" id="url" datatype="require" maxlength="50">
                            </div>
                        </div>
                        <div class="form-horizontal">
                            <div class="form-group" id="upImg">
                                <label class="col-sm-2 control-label">菜单Icon</label>
                                <div class="col-sm-9">
                                    <div class="pinput" style="width:100%;">
                                        <div class="input-group">
                                            <span id="picpath_input"></span>
                                            <input id="picpath" datatype="require" class="form-control title" value="" placeholder="请上传列表图(40*40px)">
                                            <span class="input-group-addon" style="cursor: pointer;overflow: hidden;">
                                                <i class="glyphicon glyphicon-search">
                                                    <input type="file" name="picfile2[]"  uptype="community" value="pic file"  refattr="picpath" class="form-control title_pic" style="margin-top:-20px;margin-left:-20px;-webkit-opacity: 0;opacity: 0;width: 30px;height: 20px;">
                                                </i>
                                            </span>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="name" class="col-sm-2 control-label">顺序：</label>
                            <div class="col-sm-9">
                                <input type="text" onkeyup="value=value.replace(/[^\d]/g,'')" class="form-control" id="order_code" datatype="require" maxlength="50">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <input type="text" id="id" style="display:none;"/>
                    <button type="button" class="fa btn  closeBtn" data-dismiss="modal">关闭</button>
                    <button onclick="onSaveClick()" type="button" class="fa fa-save btn  saveBtn" id="user_buttonid">保存</button>
                </div>
            </form>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>

<script id="menu-template" type="text/x-handlebars-template">
    {{#datas}}
    <tr style="text-align:center">
        <td>{{rowNum}}</td>
        <td>{{id}}</td>
        <td><a _target="_self" href="javascript:onMenu_ManageClick('{{id}}','{{deep}}')">{{name}}</a></td>
        <td><a _target="_self" href="javascript:onMenu_ManageClick('{{id}}','{{deep}}')">{{url}}</a></td>
        <td><img style="height: 32px;" src="{{picpath}}"></td>
        <td>{{deep}}</td>
        <td>{{order_code}}</td>
        <td>
            <span class="updateBtn" aria-hidden="true" title="修改" onclick="onUpdateClick('{{id}}')">修改</span>
            <span class="delBtn" title="删除" onclick="onDeleteClick(this,'{{id}}')">删除</span>
        </td>
    </tr>
    {{/datas}}
</script>

<script type="text/javascript" src="js/power/menu.js"></script>

</body>

</html>
